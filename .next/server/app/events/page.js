(()=>{var e={};e.id=634,e.ids=[634],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},71332:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var r=s(70260),n=s(28203),a=s(25155),i=s.n(a),l=s(67292),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["events",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,12819)),"C:\\Users\\HP\\Desktop\\La-Federation-Algerienne-des-Pharmaciens\\src\\app\\events\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,62804)),"C:\\Users\\HP\\Desktop\\La-Federation-Algerienne-des-Pharmaciens\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"]}],d=["C:\\Users\\HP\\Desktop\\La-Federation-Algerienne-des-Pharmaciens\\src\\app\\events\\page.jsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/events/page",pathname:"/events",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},78551:(e,t,s)=>{Promise.resolve().then(s.bind(s,12819))},31695:(e,t,s)=>{Promise.resolve().then(s.bind(s,12215))},79334:(e,t,s)=>{"use strict";var r=s(58686);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},26810:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(45512),n=s(52414);let a=()=>(0,r.jsx)("footer",{className:"bg-blue-900 text-white py-12 px-6 w-full",children:(0,r.jsxs)("div",{className:"container mx-auto",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"La F\xe9d\xe9ration Alg\xe9rienne des Pharmaciens"}),(0,r.jsx)("p",{className:"mb-4",children:"organisation professionnelle qui regroupe et repr\xe9sente les pharmaciens exer\xe7ant dans diff\xe9rents secteurs"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsxs)("a",{href:"https://web.facebook.com/fapdz/",className:"h-10 w-10 bg-blue-800 rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors",children:[(0,r.jsx)("span",{className:"sr-only",children:"Facebook"}),(0,r.jsx)(n.ok6,{})]}),(0,r.jsxs)("a",{href:"#",className:"h-10 w-10 bg-blue-800 rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors",children:[(0,r.jsx)("span",{className:"sr-only",children:"Twitter"}),(0,r.jsx)(n.feZ,{})]}),(0,r.jsxs)("a",{href:"#",className:"h-10 w-10 bg-blue-800 rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors",children:[(0,r.jsx)("span",{className:"sr-only",children:"LinkedIn"}),(0,r.jsx)(n.QEs,{})]}),(0,r.jsxs)("a",{href:"#",className:"h-10 w-10 bg-blue-800 rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors",children:[(0,r.jsx)("span",{className:"sr-only",children:"Instagram"}),(0,r.jsx)(n.ao$,{})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Liens rapides"}),(0,r.jsxs)("ul",{className:"space-y-2",children:[(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/",className:"hover:text-yellow-300 transition-colors",children:"Accueil"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/about",className:"hover:text-yellow-300 transition-colors",children:"\xc0 propos"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/events",className:"hover:text-yellow-300 transition-colors",children:"\xc9v\xe9nements"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/gallery",className:"hover:text-yellow-300 transition-colors",children:"Galerie"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/membership",className:"hover:text-yellow-300 transition-colors",children:"Adh\xe9sion"})})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Contact"}),(0,r.jsxs)("address",{className:"not-italic",children:[(0,r.jsx)("p",{className:"mb-2",children:"123 Rue de kreifeur, Paris"}),(0,r.jsx)("p",{className:"mb-2",children:"T\xe9l: +33 1 23 45 67 89"}),(0,r.jsx)("p",{className:"mb-2",children:"Email: contact@La F\xe9d\xe9ration Alg\xe9rienne des Pharmaciens.dz"})]})]})]}),(0,r.jsx)("div",{className:"border-t border-blue-800 mt-10 pt-6 text-center",children:(0,r.jsx)("p",{children:"\xa9 2025 La F\xe9d\xe9ration Alg\xe9rienne des Pharmaciens. Tous droits r\xe9serv\xe9s."})})]})})},12215:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(45512),n=s(58009),a=s(6095),i=s.n(a),l=s(11804),o=s(26810),c=s(79334);function d(){let[e,t]=(0,n.useState)("all"),[s,a]=(0,n.useState)(null),[d,u]=(0,n.useState)([]),[m,x]=(0,n.useState)(!0),[h,p]=(0,n.useState)(!1),[b,g]=(0,n.useState)(null),[f,j]=(0,n.useState)(null),[v,y]=(0,n.useState)([]),N=(0,c.useRouter)(),[w,D]=(0,n.useState)([{key:"all",label:"Tous les \xe9v\xe9nements"},{key:"upcoming",label:"\xc9v\xe9nements \xe0 venir"},{key:"past",label:"\xc9v\xe9nements pass\xe9s"}]),P=async()=>{try{let e=localStorage.getItem("authToken");if(!e)return console.log("Utilisateur non connect\xe9"),null;let t=await fetch("/api/profile",{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)return console.log("Erreur de profil, utilisateur probablement non connect\xe9"),null;let s=await t.json();if(s.success&&s.data&&(s.data.userId||s.data._id)){let e=s.data.userId||s.data._id;return j(e),console.log("Utilisateur connect\xe9, ID:",e),e}return console.log("Profil incomplet, utilisateur non connect\xe9"),null}catch(e){return console.error("Erreur lors du chargement du profil:",e),null}},k=async()=>{try{x(!0);let e=await P(),t=await fetch("/api/events"),s=await t.json();if(s.success&&s.data){console.log(s);let t=(Array.isArray(s.data)?s.data:s.data.events||[]).map(t=>{let s=!!e&&(t.participants?.some(t=>("object"==typeof t?t.userId||t._id:t)===e)||!1);return{...t,status:s?"registered":"available"}});u(t)}else u([])}catch(e){console.error("Error fetching events:",e),u([])}finally{x(!1)}},C=e=>{if(!e.startDate)return!1;try{let t=new Date(e.startDate),s=new Date;return s.setHours(0,0,0,0),t>=s}catch(e){return!1}},A=e=>{if(!e.startDate)return!1;try{let t=new Date(e.startDate),s=new Date;return s.setHours(0,0,0,0),t<s}catch(e){return!1}},_=d.filter(t=>{switch(e){case"all":return!0;case"upcoming":return C(t);case"past":return A(t);default:if(!t.category)return!1;let s=w.find(t=>t.key===e);if(!s)return!1;return t.category.toLowerCase()===s.label.toLowerCase()}}),$=e=>"registered"===e?{text:"Inscrit",color:"bg-green-100 text-green-800"}:{text:"Disponible",color:"bg-blue-100 text-blue-800"},L=async e=>{try{g(e._id);let t=localStorage.getItem("authToken");if(!t){a(e),p(!0);return}let s=f;if(s||(s=await P()),!s)throw Error("Impossible de r\xe9cup\xe9rer l'ID utilisateur");let r=await fetch(`/api/events/${e._id}/register`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({userId:s})}),n=await r.json();if(!r.ok)throw Error(n.message||"Erreur lors de l'inscription");if(n.success)u(t=>t.map(t=>t._id===e._id?{...t,status:"registered",participants:[...t.participants||[],{userId:s}]}:t)),alert("âœ… Inscription r\xe9ussie ! Vous \xeates maintenant inscrit \xe0 cet \xe9v\xe9nement.");else throw Error(n.message||"Erreur lors de l'inscription")}catch(e){console.error("Erreur:",e),alert(`âŒ Erreur: ${e.message}`)}finally{g(null)}},E=e=>{let t="registered"===e.status,s=e.participants?.length||0,r=e.maxParticipants||"Illimit\xe9";alert(`D\xe9tails de l'\xe9v\xe9nement:

ðŸ“Œ ${e.title}

ðŸ“ ${e.description||"Aucune description"}

ðŸ“… Date de d\xe9but: ${S(e.startDate)}
`+(e.endDate?`ðŸ“… Date de fin: ${S(e.endDate)}
`:"")+`â° Heure: ${I(e.startDate)}
`+`ðŸ“ Lieu: ${e.location||"Lieu \xe0 confirmer"}
`+(e.isOnline?`ðŸŒ \xc9v\xe9nement en ligne
`:"")+(e.isMemberOnly?`ðŸ”’ R\xe9serv\xe9 aux membres seulement
`:"")+`ðŸ‘¥ Participants: ${s}/${r}
`+`ðŸ’° Prix membre: ${e.memberPrice||0}DA
`+`ðŸ’° Prix non-membre: ${e.nonMemberPrice||0}DA
`+`ðŸ“‹ Cat\xe9gorie: ${F(e.category)}
`+`${null!==f?t?"âœ… Vous \xeates inscrit \xe0 cet \xe9v\xe9nement":"âŒ Vous n'\xeates pas inscrit - Statut: Disponible":"\uD83D\uDD10 Connectez-vous pour vous inscrire - Statut: Disponible"}`)},S=e=>{if(!e)return"Date \xe0 confirmer";try{return new Date(e).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}catch(e){return"Date invalide"}},I=e=>{if(!e)return"Heure \xe0 confirmer";try{return new Date(e).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit",timeZone:"UTC"})}catch(e){return"Heure invalide"}},F=e=>{if(!e)return"Non sp\xe9cifi\xe9e";let t=v.find(t=>t.name===e);return t?t.name:e},q=e=>A(e)?"Voir le replay":"registered"===e.status?"Inscrit":e.maxParticipants&&(e.participants?.length||0)>=e.maxParticipants?"Complet":"S'inscrire",R=e=>A(e)||"registered"===e.status||e.maxParticipants&&(e.participants?.length||0)>=e.maxParticipants||b===e._id||e.isMemberOnly&&!f,T=(e,t)=>e._id?`event-${e._id}`:`event-${t}-${Date.now()}`;return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsxs)(i(),{children:[(0,r.jsx)("title",{children:"\xc9v\xe9nements - La F\xe9d\xe9ration Alg\xe9rienne des Pharmaciens"}),(0,r.jsx)("meta",{name:"description",content:"D\xe9couvrez tous les \xe9v\xe9nements organis\xe9s par l'Association de Cosm\xe9tologie : congr\xe8s, ateliers, formations et networking"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)(l.default,{}),(0,r.jsx)("main",{className:"flex-grow bg-blue-50 py-12",children:(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-center text-blue-800 mb-4",children:"\xc9v\xe9nements"}),(0,r.jsx)("p",{className:"text-lg text-center text-gray-700 max-w-3xl mx-auto mb-12",children:"D\xe9couvrez notre programme d'\xe9v\xe9nements : congr\xe8s, ateliers pratiques, formations et sessions de networking, con\xe7us pour tous les professionnels du secteur pharmaceutique."}),(0,r.jsx)("div",{className:"flex flex-wrap justify-center gap-3 mb-12",children:w.map(s=>(0,r.jsx)("button",{onClick:()=>t(s.key),className:`px-4 py-2 rounded-full transition-colors text-sm md:text-base ${e===s.key?"bg-blue-800 text-white":"bg-white text-blue-800 hover:bg-blue-100"}`,children:s.label},`filter-${s.key}`))}),m&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-800 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Chargement des \xe9v\xe9nements..."})]}),!m&&0===_.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-gray-500 text-6xl mb-4",children:"\uD83D\uDCC5"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Aucun \xe9v\xe9nement trouv\xe9"}),(0,r.jsx)("p",{className:"text-gray-600",children:"all"===e?"Aucun \xe9v\xe9nement n'est programm\xe9 pour le moment.":`Aucun \xe9v\xe9nement trouv\xe9 pour le filtre "${w.find(t=>t.key===e)?.label}".`})]}),!m&&_.length>0&&(0,r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-16",children:_.map((e,t)=>{let s=$(e.status),n=b===e._id,a=q(e),i=R(e);return e.participants?.length,e.maxParticipants,(0,r.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow",children:[(0,r.jsx)("div",{className:"h-48 bg-gray-200 flex items-center justify-center",children:e.imgUrl?(0,r.jsx)("img",{src:e.imgUrl,alt:e.title,className:"w-full h-full object-cover"}):(0,r.jsxs)("div",{className:"text-gray-500 flex flex-col items-center",children:[(0,r.jsx)("span",{className:"text-4xl mb-2",children:"\uD83D\uDCC5"}),(0,r.jsx)("span",{className:"text-sm",children:"Image non disponible"})]})}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:F(e.category)}),(0,r.jsx)("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${s.color}`,children:s.text})]}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-blue-800 mb-1 line-clamp-1",children:e.title})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-sm text-gray-500",children:S(e.startDate)}),e.endDate&&e.endDate!==e.startDate&&(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["au ",S(e.endDate)]})]})]}),(0,r.jsx)("p",{className:"text-gray-700 mb-4 line-clamp-2",children:e.description}),(0,r.jsxs)("div",{className:"flex gap-2 mb-4",children:[e.isOnline&&(0,r.jsx)("span",{className:"inline-block px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs",children:"\uD83C\uDF10 En ligne"}),e.isMemberOnly&&(0,r.jsx)("span",{className:"inline-block px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs",children:"\uD83D\uDD12 Membres seulement"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,r.jsx)("span",{className:"mr-2",children:"\uD83D\uDCCD"}),(0,r.jsx)("span",{className:"truncate max-w-[150px]",children:e.location||"Lieu \xe0 confirmer"})]}),(0,r.jsx)("div",{className:"text-right",children:0===e.nonMemberPrice&&0===e.memberPrice?(0,r.jsx)("span",{className:"text-green-600 font-semibold",children:"Gratuit"}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"text-blue-800 font-semibold",children:[e.memberPrice||0," DA"]})})})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("button",{onClick:()=>A(e)?E(e):L(e),disabled:i,className:`px-4 py-2 rounded-md text-sm font-medium flex items-center justify-center min-w-[120px] ${A(e)?"bg-gray-600 text-white hover:bg-gray-700":"registered"===e.status?"bg-green-600 text-white hover:bg-green-700":"bg-blue-800 text-white hover:bg-blue-700"} transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed`,children:n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-2"}),"Inscription..."]}):(0,r.jsxs)(r.Fragment,{children:["registered"===e.status&&(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),a]})}),(0,r.jsx)("button",{onClick:()=>E(e),className:"px-4 py-2 border border-blue-800 text-blue-800 rounded-md hover:bg-blue-50 transition-colors text-sm font-medium",children:"D\xe9tails"})]})]})]},T(e,t))})}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("button",{onClick:()=>{k()},className:"px-6 py-2 bg-blue-100 text-blue-800 rounded-md hover:bg-blue-200 transition-colors text-sm font-medium",children:"\uD83D\uDD04 Rafra\xeechir la liste"})})]})}),h&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-sm w-full p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-yellow-500 text-4xl mb-4",children:"âš ï¸"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-blue-800 mb-4",children:"Connexion requise"}),(0,r.jsxs)("p",{className:"text-gray-700 mb-6",children:["Vous devez \xeatre connect\xe9 pour vous inscrire \xe0"," ",(0,r.jsx)("strong",{children:s?.title}),"."]}),(0,r.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,r.jsx)("button",{onClick:()=>p(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition-colors",children:"Annuler"}),(0,r.jsx)("button",{onClick:()=>{p(!1),N.push("/login")},className:"px-4 py-2 bg-blue-800 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Se connecter"})]})]})})}),(0,r.jsx)(o.A,{})]})}},12819:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\HP\\\\Desktop\\\\La-Federation-Algerienne-des-Pharmaciens\\\\src\\\\app\\\\events\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\HP\\Desktop\\La-Federation-Algerienne-des-Pharmaciens\\src\\app\\events\\page.jsx","default")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,155,531,388,299],()=>s(71332));module.exports=r})();