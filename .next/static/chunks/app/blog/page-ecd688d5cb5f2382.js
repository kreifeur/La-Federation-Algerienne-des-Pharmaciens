(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[831],{4644:(e,s,t)=>{Promise.resolve().then(t.bind(t,4252))},4252:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(5155),l=t(2115);t(5565);var i=t(1536),r=t(6084),n=t(664),c=t(514),d=t(6793),o=t.n(d);let x=["Tous","tendances","innovation","Maquillage","Soins","Naturel","Nutrition","Parfum"];function m(){let[e,s]=(0,l.useState)("Tous"),[t,d]=(0,l.useState)(""),[m,u]=(0,l.useState)(null),[h,p]=(0,l.useState)([]),[j,g]=(0,l.useState)([]),[b,f]=(0,l.useState)(!0),[v,N]=(0,l.useState)([]);(0,l.useEffect)(()=>{w()},[e,t]),(0,l.useEffect)(()=>{y()},[]);let w=async()=>{try{f(!0);let e=await fetch("/api/articles"),s=await e.json();if(s.success){let e=s.data.articles.map(e=>{var s,t,a;return{id:e._id,title:e.title,content:e.content,excerpt:e.excerpt,author:(null===(s=e.authorId)||void 0===s?void 0:s.email)||"Auteur inconnu",authorId:null===(t=e.authorId)||void 0===t?void 0:t._id,category:(null===(a=e.tags)||void 0===a?void 0:a[0])||"G\xe9n\xe9ral",tags:e.tags||[],isMemberOnly:e.isMemberOnly,isPublished:e.isPublished,date:new Date(e.publishedAt).toLocaleDateString("fr-FR"),readTime:"".concat(Math.ceil(e.content.length/1e3)," min read"),viewCount:e.views,publishedAt:e.publishedAt,createdAt:e.createdAt,updatedAt:e.updatedAt}});p(e)}}catch(e){console.error("Error fetching blog posts:",e)}finally{f(!1)}},y=async()=>{try{let e=await fetch("/api/articles"),s=await e.json();if(s.success){let e=s.data.articles.sort((e,s)=>s.views-e.views).slice(0,3).map(e=>{var s,t;return{id:e._id,title:e.title,excerpt:e.excerpt,author:(null===(s=e.authorId)||void 0===s?void 0:s.email)||"Auteur inconnu",category:(null===(t=e.tags)||void 0===t?void 0:t[0])||"G\xe9n\xe9ral",tags:e.tags||[],date:new Date(e.publishedAt).toLocaleDateString("fr-FR"),readTime:"".concat(Math.ceil(e.content.length/1e3)," min read"),viewCount:e.views,content:e.content}});g(e)}}catch(e){console.error("Error fetching popular posts:",e)}},A=e=>{u(e)},C=h.filter(s=>{let a="Tous"===e||s.tags.includes(e)||s.category===e,l=s.title.toLowerCase().includes(t.toLowerCase())||s.excerpt.toLowerCase().includes(t.toLowerCase())||s.content.toLowerCase().includes(t.toLowerCase());return a&&l});return m?(0,a.jsxs)("div",{children:[(0,a.jsxs)(o(),{children:[(0,a.jsxs)("title",{children:[m.title," - Blog La F\xe9d\xe9ration Alg\xe9rienne des Pharmaciens"]}),(0,a.jsx)("meta",{name:"description",content:m.excerpt}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsx)(c.default,{}),(0,a.jsx)("main",{className:"min-h-screen bg-blue-50 py-12",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsx)("div",{className:"w-full py-4",children:(0,a.jsxs)("button",{onClick:()=>u(null),className:"flex items-center gap-2 text-blue-800 font-medium hover:text-blue-600 transition-colors",children:[(0,a.jsx)(i.QVr,{})," Retour au blog"]})}),b?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-800 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Chargement de l'article..."})]}):(0,a.jsxs)("article",{className:"w-full max-w-4xl mx-auto py-8",children:[(0,a.jsx)("div",{className:"mb-6 flex flex-wrap gap-2",children:m.tags.map((e,s)=>(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-800 text-white rounded-full text-sm",children:e},s))}),(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-blue-800 mb-4",children:m.title}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-gray-600 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(i.x$1,{className:"text-sm"}),(0,a.jsx)("span",{children:m.author})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(i.bfZ,{className:"text-sm"}),(0,a.jsx)("span",{children:new Date(m.publishedAt).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]}),(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:m.readTime})}),(0,a.jsx)("div",{children:(0,a.jsxs)("span",{children:[m.viewCount," vues"]})})]}),(0,a.jsx)("div",{className:"bg-gray-200 aspect-video rounded-lg mb-8 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-gray-500",children:"Image de l'article"})}),(0,a.jsx)("div",{className:"prose max-w-none text-gray-700 leading-relaxed",children:m.content.split("\n").map((e,s)=>(0,a.jsx)("p",{className:"mb-4",children:e},s))}),v.length>0&&(0,a.jsxs)("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-6 text-blue-800",children:"Articles similaires"}),(0,a.jsx)("div",{className:"grid md:grid-cols-3 gap-6",children:v.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>A(e),children:[(0,a.jsx)("div",{className:"bg-gray-200 aspect-video flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-gray-500",children:"Image"})}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-800 text-white rounded-full text-xs",children:e.category}),(0,a.jsx)("h4",{className:"font-semibold text-lg text-blue-800 mt-2 mb-1 line-clamp-2",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,a.jsx)("span",{children:e.date}),(0,a.jsx)("span",{children:e.readTime})]})]})]},e.id))})]}),(0,a.jsxs)("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4 text-blue-800",children:"\xc0 propos de l'auteur"}),(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-blue-800 font-semibold",children:m.author.charAt(0)})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-blue-800",children:m.author}),(0,a.jsx)("p",{className:"text-gray-600",children:"Passionn\xe9 par l’innovation pharmaceutique, il contribue au d\xe9veloppement de solutions modernes pour la sant\xe9."})]})]})]})]})]})}),(0,a.jsx)(n.A,{})]}):(0,a.jsxs)("div",{children:[(0,a.jsxs)(o(),{children:[(0,a.jsx)("title",{children:"Blog - Association de Cosm\xe9tologie"}),(0,a.jsx)("meta",{name:"description",content:"Articles et actualit\xe9s de l'Association de Cosm\xe9tologie"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsx)(c.default,{}),(0,a.jsx)("main",{className:"min-h-screen bg-blue-50 py-12",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsxs)("section",{className:"w-full mb-8 text-center",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-blue-800 mb-4",children:"Blog"}),(0,a.jsx)("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto",children:"D\xe9couvrez les derni\xe8res tendances, les conseils d’experts et l’actualit\xe9 du monde pharmaceutique"})]}),(0,a.jsxs)("section",{className:"w-full max-w-5xl mx-auto mb-12",children:[(0,a.jsxs)("div",{className:"flex sm:flex-row flex-col gap-4 items-center justify-between mb-8",children:[(0,a.jsxs)("div",{className:"relative w-full sm:w-96",children:[(0,a.jsx)("input",{type:"text",placeholder:"Rechercher un article...",className:"w-full p-3 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t,onChange:e=>d(e.target.value)}),(0,a.jsx)(i.KSO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.pf4,{className:"text-blue-800"}),(0,a.jsx)("select",{className:"p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:e,onChange:e=>s(e.target.value),children:x.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]})]}),b&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-800 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Chargement des articles..."})]}),!b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:C.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>A(e),children:[(0,a.jsx)("div",{className:"bg-gray-200 aspect-video flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-gray-500",children:"Image"})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-800 text-white rounded-full text-sm",children:e.category}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:e.readTime})]}),(0,a.jsx)("h3",{className:"font-semibold text-xl text-blue-800 mb-2 line-clamp-2",children:e.title}),(0,a.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-3",children:e.excerpt}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-blue-800 text-sm font-semibold",children:e.author.charAt(0)})}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:e.author})]}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:e.date})]})]})]},e.id))}),0===C.length&&(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-gray-600",children:"Aucun article ne correspond \xe0 votre recherche."})})]})]}),(0,a.jsxs)("section",{className:"w-full max-w-8xl mx-auto mb-16",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-center text-blue-800 mb-6",children:"Articles Populaires"}),(0,a.jsx)("div",{className:"grid md:grid-cols-3 gap-6",children:j.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>A(e),children:[(0,a.jsx)("div",{className:"bg-gray-200 aspect-video flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-gray-500",children:"Image"})}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-800 text-white rounded-full text-xs",children:e.category}),(0,a.jsx)("h3",{className:"font-semibold text-lg text-blue-800 mt-2 mb-1 line-clamp-2",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,a.jsx)("span",{children:e.date}),(0,a.jsx)("span",{children:e.readTime})]})]})]},e.id))})]})]})}),(0,a.jsx)(n.A,{})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[711,873,173,943,141,441,517,358],()=>s(4644)),_N_E=e.O()}]);